–ü–æ–Ω—è–ª. –ù–∏–∂–µ ‚Äî **–ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–æ–µ –¢–ó**, –∫–∞–∫ –µ—Å–ª–∏ –±—ã –æ–Ω–æ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –±—ã–ª–æ –Ω–∞–ø–∏—Å–∞–Ω–æ —Å —É—á—ë—Ç–æ–º –≤—Å–µ—Ö –ø—Ä–∞–≤–æ–∫:

* **Loom ‚Äî —Ç–æ–ª—å–∫–æ –∏–∫–æ–Ω–∫–∞/–∫–Ω–æ–ø–∫–∞ –≤ Hero**, –±–µ–∑ –≤–∏–¥–µ–æ –±–ª–æ–∫–∞.
* **Pricing Table ‚Äî –Ω–µ—Ç, —Ç–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫–∏ –≤–Ω—É—Ç—Ä–∏ Team/Payment**.
* **–°—Ç–∞—Ä—ã–µ –ø–æ–ª—è proposals –Ω–µ —É–¥–∞–ª—è–µ–º, –Ω–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ**.
* **–ù–∏–∫–∞–∫–∏—Ö –Ω–æ–≤—ã—Ö —Ç–∞–±–ª–∏—Ü –ø–æ–¥ –≤–∏–¥–µ–æ/–ø—Ä–∞–π—Å—ã.**
* **–ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –±–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ ‚Äú–º—ã –¥–æ–±–∞–≤–∏–ª–∏ / –ø–æ–º–µ–Ω—è–ª–∏‚Äù, –±—É–¥—Ç–æ —Å—Ä–∞–∑—É —Ç–∞–∫ –±—ã–ª–æ.**

---

# üìå **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ: Builder –ö–ü (Like Relume) ‚Äî Next.js + Supabase**

## üéØ –¶–µ–ª—å —Å–∏—Å—Ç–µ–º—ã

–°–æ–∑–¥–∞—Ç—å –±–∏–ª–¥–µ—Ä –ö–ü, –≥–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:

* –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –±—Ä–µ–Ω–¥–∏–Ω–≥ –≤–æ—Ä–∫—Å–ø–µ–π—Å–∞ (–ª–æ–≥–æ—Ç–∏–ø, —Ü–≤–µ—Ç–∞, —à—Ä–∏—Ñ—Ç—ã, UI-—Å—Ç–∏–ª–∏),
* —Å–æ–±–∏—Ä–∞–µ—Ç –ö–ü –∏–∑ –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö –±–ª–æ–∫–æ–≤,
* –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–∫–µ–π—Å—ã, FAQ, –∫–æ–º–∞–Ω–¥–∞, –∫–æ–Ω—Ç–∞–∫—Ç—ã),
* –º–æ–∂–µ—Ç:

  * **–ø–æ–¥–µ–ª–∏—Ç—å—Å—è –ö–ü —á–µ—Ä–µ–∑ –ø—É–±–ª–∏—á–Ω—É—é —Å—Å—ã–ª–∫—É (HTML)**,
  * **–≤—ã–≥—Ä—É–∑–∏—Ç—å –≤ PDF**.

### üß© –ö–æ–Ω—Ü–µ–ø—Ü–∏—è:

**–ö–ü = Brand Settings + Blocks + Workspace Data (Cases, FAQ, Contacts)**

---

# 1. –°–ª–æ–π –±—Ä–µ–Ω–¥–∏–Ω–≥–∞ –≤–æ—Ä–∫—Å–ø–µ–π—Å–∞

### 1.1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É **`workspace_brand_settings`**:

| –ü–æ–ª–µ                    | –¢–∏–ø                                               | –û–ø–∏—Å–∞–Ω–∏–µ |
| ----------------------- | ------------------------------------------------- | -------- |
| workspace_id            | UUID PK + FK(workspaces.id, ON DELETE CASCADE)    |          |
| logo_url                | TEXT, —Å—Å—ã–ª–∫–∞ –Ω–∞ Supabase Storage                  |          |
| colors                  | JSONB `{ primary, secondary, background, text }`  |          |
| typography              | JSONB `{ fontFamily, heading, body }`             |          |
| components              | JSONB `{ cardRadius, cardShadow, buttonVariant }` |          |
| seo                     | JSONB `{ defaultOgTitle, ogImage, description }`  |          |
| created_at / updated_at | timestamp                                         |          |

‚ö† **–®—Ä–∏—Ñ—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –∏–∑ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞:**

```
Inter, Roboto, Montserrat, Poppins, Open Sans, Source Sans 3
```

‚ö† **cardRadius —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ—á–∏—Å–ª–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:**

```
none | sm | md | lg | xl
```

> –í–∫–ª—é—á–∏—Ç—å RLS: –¥–æ—Å—Ç—É–ø –ø–æ workspace_members.

---

### 1.2. Server Actions

–§–∞–π–ª `src/app/actions/brand.ts`:

| –§—É–Ω–∫—Ü–∏—è                                           | –û–ø–∏—Å–∞–Ω–∏–µ                                                               |
| ------------------------------------------------- | ---------------------------------------------------------------------- |
| `getWorkspaceBrandSettings(workspaceId)`          | –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–∞ –≤–æ—Ä–∫—Å–ø–µ–π—Å–∞ ‚Üí SELECT. –í–æ–∑–≤—Ä–∞—Ç null, –µ—Å–ª–∏ –Ω–µ —Å–æ–∑–¥–∞–Ω–æ. |
| `upsertWorkspaceBrandSettings(workspaceId, data)` | –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ ‚Üí –≤–∞–ª–∏–¥–∏—Ä—É–µ–º (Zod) ‚Üí UPSERT ‚Üí –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ.            |

–ó–æ–¥ –¥–æ–ª–∂–µ–Ω –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å:

* hex-—Ü–≤–µ—Ç–∞,
* cardShadow/Radius,
* —Ç–æ–ª—å–∫–æ –¥–æ–ø—É—Å—Ç–∏–º—ã–µ fontFamily.

---

### 1.3. UI

–°—Ç—Ä–∞–Ω–∏—Ü–∞:
`/workspace/[workspaceId]/settings/brand`

* –§–æ—Ä–º–∞: –ª–æ–≥–æ—Ç–∏–ø upload, —Ü–≤–µ—Ç–∞, —à—Ä–∏—Ñ—Ç—ã, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.
* –°–ø—Ä–∞–≤–∞: **–∂–∏–≤–æ–µ –ø—Ä–µ–≤—å—é –º–∏–Ω–∏-–ö–ü**.
* –ê–≤—Ç–æ–ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏.
* –ö–Ω–æ–ø–∫–∞ ‚Äú–°–æ—Ö—Ä–∞–Ω–∏—Ç—å‚Äù –≤—ã–∑—ã–≤–∞–µ—Ç `upsertWorkspaceBrandSettings`.

---

# 2. –ú–æ–¥–µ–ª—å –±–ª–æ–∫–æ–≤ –ö–ü

### 2.1 –¢–∞–±–ª–∏—Ü–∞ `proposal_blocks`

| –ü–æ–ª–µ                    | –¢–∏–ø                                     |
| ----------------------- | --------------------------------------- |
| id                      | UUID PK                                 |
| proposal_id             | FK ‚Üí proposals.id (ON DELETE CASCADE)   |
| type                    | TEXT (`hero_simple`, `cases_grid`, ...) |
| order_index             | INT                                     |
| props                   | JSONB                                   |
| style_overrides         | JSONB                                   |
| created_at / updated_at | timestamp                               |

‚ö† **RLS —á–µ—Ä–µ–∑ workspace_members** (–ø–æ proposal ‚Üí workspace).

---

### 2.2 –°–ø–∏—Å–æ–∫ —Ç–∏–ø–æ–≤ –±–ª–æ–∫–æ–≤ (MVP)

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è        | –ë–ª–æ–∫                               |
| ---------------- | ---------------------------------- |
| Intro            | Hero (—Å optional Loom –∏–∫–æ–Ω–∫–æ–π)     |
| Cases            | Grid, Slider, Row                  |
| Timeline         | Linear, Vertical, Phases           |
| Team Estimate    | –¢–∞–±–ª–∏—Ü–∞ (role, qty, rate, total)   |
| Payment Schedule | –¢–∞–±–ª–∏—Ü–∞ (label, date, amount)      |
| FAQ              | Accordion/List (–∏–∑ FAQ –≤–æ—Ä–∫—Å–ø–µ–π—Å–∞) |
| Contacts         | Cards/Footer                       |
| Text             | Tiptap Text                        |
| Gallery          | Simple Image Grid                  |

### üí° **Loom**

* –ù–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π –±–ª–æ–∫.
* –ï—Å–ª–∏ –≤ `proposals` –µ—Å—Ç—å `loom_url`, —Ç–æ –≤ Hero –ø–æ—è–≤–ª—è–µ—Ç—Å—è **Loom-–∏–∫–æ–Ω–∫–∞ ‚Äú–°–º–æ—Ç—Ä–µ—Ç—å‚Äù**.
* –ë–µ–∑ –≤—Å—Ç–∞–≤–∫–∏ –ø–ª–µ–µ—Ä–∞, –±–µ–∑ –ø—Ä–µ–≤—å—é, —Ç–æ–ª—å–∫–æ –∫–Ω–æ–ø–∫–∞/–∏–∫–æ–Ω–∫–∞.

‚ö† –†–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `loom_url` –≤ —Ç–∞–±–ª–∏—Ü—É `proposals`, **–Ω–µ —É–¥–∞–ª—è—è —Å—Ç–∞—Ä—ã–µ –ø–æ–ª—è**.

---

### 2.3 Zod Props –°—Ö–µ–º—ã

**HeroBlock**

```
{ title: string; subtitle?: string; ctaLabel?: string; clientName?: string }
```

**CasesBlock**

```
{ layout: "slider" | "grid" | "row"; caseIds: string[]; showTags?: boolean; showLinks?: boolean }
```

**Timeline**

```
{ variant: "linear" | "vertical" | "phases"; items: [{ title, date?, description? }] }
```

**Team Estimate**

```
{ members: [{ role, qty, rate }]; showTotal?: boolean }
```

**Payment**

```
{ items: [{ label, date?, amount }]; currency?: string }
```

**FAQ**

```
{ faqItemIds: string[]; layout: "accordion" | "list" }
```

**Contacts**

```
{ contacts: [{ label, name?, email?, phone?, linkLabel?, linkUrl? }] }
```

**Text**

```
{ content: TiptapJSON; align?: "left" | "center" | "right" }
```

**Gallery**

```
{ imageUrls: string[] }
```

---

# 3. Server Actions for Blocks

–§–∞–π–ª `src/app/actions/proposal-blocks.ts`.

| –§—É–Ω–∫—Ü–∏—è                  | –û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏                                                             |
| ------------------------ | ----------------------------------------------------------------------- |
| `getProposalBlocks`      | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø ‚Üí SELECT ORDER BY order_index.                         |
| `createProposalBlock`    | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø ‚Üí –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å props ‚Üí –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å order_index. |
| `updateProposalBlock`    | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å ‚Üí –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å props ‚Üí UPDATE.                                |
| `reorderProposalBlocks`  | –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è reorder.                                                     |
| `deleteProposalBlock`    | –£–¥–∞–ª–∏—Ç—å ‚Üí –ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å order_index.                                      |
| `duplicateProposalBlock` | –ö–æ–ø–∏—è –±–ª–æ–∫–∞ ‚Üí –≤—Å—Ç–∞–≤–∏—Ç—å –ø–æ—Å–ª–µ –æ—Ä–∏–≥–∏–Ω–∞–ª–∞.                                 |

‚ö† –í—Å–µ –¥–æ–ª–∂–Ω—ã –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Ö–æ–¥/–≤—ã—Ö–æ–¥/–æ—à–∏–±–∫—É.

---

# 4. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –±–∏–ª–¥–µ—Ä–∞

–ú–∞—Ä—à—Ä—É—Ç:
`/workspace/[workspaceId]/proposals/[proposalId]/builder`

–ó–∞–≥—Ä—É–∑–∏—Ç—å:

* proposal + —ç–ª–µ–º–µ–Ω—Ç—ã (–≤–∫–ª—é—á–∞—è `loom_url`)
* blocks,
* workspace_brand_settings.

### UI Layout:

| –ó–æ–Ω–∞             | –§—É–Ω–∫—Ü–∏—è                                              |
| ---------------- | ---------------------------------------------------- |
| Sidebar (left)   | —Å–ø–∏—Å–æ–∫ –±–ª–æ–∫–æ–≤ + drag-n-drop + duplicate/delete + Add |
| Canvas (center)  | –ø—Ä–µ–≤—å—é, –º–æ–∂–Ω–æ –≤—ã–±–∏—Ä–∞—Ç—å –±–ª–æ–∫                          |
| Settings (right) | –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–ª–æ–∫–∞, Tiptap, —Ç–∞–±–ª–∏—Ü—ã, multi-select       |

‚ö† Drag-n-drop —Ç–æ–ª—å–∫–æ –≤ Sidebar. Canvas ‚Äî —Ç–æ–ª—å–∫–æ –≤—ã–±–æ—Ä.

---

# 5. UI —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–ª–æ–∫–∞–º–∏

* Sidebar:

  * Sort (drag)
  * Duplicate
  * Delete
  * Add ‚Üí modal selector by category ‚Üí uses defaultProps

* Canvas:

  * Highlight selected
  * Preview with applied branding

* Block Settings:

  * Hero: –ø–æ–ª—è + **–µ—Å–ª–∏ —É proposal –µ—Å—Ç—å loom_url ‚Üí –≤–∫–ª—é—á–∏—Ç—å –∫–Ω–æ–ø–∫—É –≤ –ø—Ä–µ–≤—å—é**
  * Cases: layout + multi-select
  * Timeline: CRUD —ç–ª–µ–º–µ–Ω—Ç–æ–≤
  * Team Estimate: —Ç–∞–±–ª–∏—Ü–∞ + auto total
  * Payment: —Ç–∞–±–ª–∏—Ü–∞ + auto total
  * FAQ: multi-select FAQ items
  * Contacts: CRUD
  * Text: Tiptap –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π
  * Gallery: upload + reorder + delete

---

# 6. –ü—É–±–ª–∏–∫–∞—Ü–∏—è (HTML Snapshot)

### –¢–∞–±–ª–∏—Ü–∞ `proposal_snapshots`

| brand | blocks | meta | public_link_id | created_at |

### `publishProposal(proposalId)`

* –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞
* –ù–∞–π—Ç–∏/—Å–æ–∑–¥–∞—Ç—å public_link (slug)
* –°–æ–±—Ä–∞—Ç—å brand
* –°–æ–±—Ä–∞—Ç—å blocks ‚Üí –ø–æ–¥–≥—Ä—É–∑–∏—Ç—å:

  * –∫–µ–π—Å—ã –ø–æ caseIds,
  * FAQ –ø–æ faqIds
  * –ø–æ—Å—á–∏—Ç–∞—Ç—å –∏—Ç–æ–≥–æ–≤—ã–µ —Å—É–º–º—ã
* –°–æ—Ö—Ä–∞–Ω–∏—Ç—å snapshot (immutable)
* –í–µ—Ä–Ω—É—Ç—å slug + snapshotId

–ü—É–±–ª–∏—á–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `/p/[slug]`:

* –∑–∞–≥—Ä—É–∑–∫–∞ snapshot
* –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ BlockRenderer –±–µ–∑ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
* –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ Brand CSS

---

# 7. PDF –≠–∫—Å–ø–æ—Ä—Ç

API:
`/api/pdf/proposal/[snapshotId]`

| –ü–∞—Ä–∞–º–µ—Ç—Ä—ã                | –ó–Ω–∞—á–µ–Ω–∏—è    |
| ------------------------ | ----------- |
| —Ñ–æ—Ä–º–∞—Ç                   | A4 Portrait |
| DPI                      | 150‚Äì300     |
| page-break –º–µ–∂–¥—É –±–ª–æ–∫–∞–º–∏ | –î–∞          |
| –Ω—É–º–µ—Ä–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü        | –î–∞          |
| —Ç–∞–±–ª–∏—Ü—ã –∫–∞–∫ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã    | –î–∞          |

‚ö† –ù–µ—Ç TOC (Table of Contents).

> –ö–Ω–æ–ø–∫–∞ ‚Äú–°–∫–∞—á–∞—Ç—å PDF‚Äù: –µ—Å–ª–∏ –Ω–µ—Ç snapshot ‚Üí publish ‚Üí –∑–∞—Ç–µ–º —Å–∫–∞—á–∞—Ç—å.

---

# 8. –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ

| –ü–æ–≤–µ–¥–µ–Ω–∏–µ            | –ó–Ω–∞—á–µ–Ω–∏–µ              |
| -------------------- | --------------------- |
| Debounce             | 1000ms                |
| Optimistic UI        | –î–∞                    |
| –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã            | —Ç–æ–ª—å–∫–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ |
| –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∞–≤—Ç–æ—Å–µ–π–≤–∞ | –ù–µ—Ç                   |

---

# 9. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ property-based —Ç–µ—Å—Ç—ã:

* props round-trip —á–µ—Ä–µ–∑ CRUD
* correct reorder
* snapshot includes resolved data (cases, FAQ)
* public link access rules

---

# üîö –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å proposals

* **–ù–∏—á–µ–≥–æ –Ω–µ —É–¥–∞–ª—è–µ–º.**
* –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –ø–æ–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `loom_url`).
* Builder –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—Ç–æ–ª—å–∫–æ `proposal_blocks`**.
* –°—Ç–∞—Ä—ã–µ –ø–æ–ª—è –æ—Å—Ç–∞—é—Ç—Å—è –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –±—É–¥—É—â–µ–º –º–∏–≥—Ä–∞—Ü–∏–∏).


–û—Ç–ª–∏—á–Ω—ã–µ —É—Ç–æ—á–Ω–µ–Ω–∏—è. –ù–∏–∂–µ ‚Äî —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã —Ç–∞–∫, –∫–∞–∫ –æ–Ω–∏ –ø–æ–π–¥—É—Ç **–≤ —Å–∞–º–æ –¢–ó**, –∞ –Ω–µ –∫–∞–∫ –æ–±—Å—É–∂–¥–µ–Ω–∏–µ. –ü—Ä–æ—Å—Ç–æ –±–µ—Ä–∏ –∏ –≤—Å—Ç–∞–≤–ª—è–π.

---

# üñä **1) Tiptap –¥–ª—è TextBlock (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä)**

**–†–∞–∑—Ä–µ—à–µ–Ω–æ:**

| –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å   | –ü–æ–¥–¥–µ—Ä–∂–∫–∞                  |
| ------------- | -------------------------- |
| Bold          | ‚úî                          |
| Italic        | ‚úî                          |
| Underline     | ‚úî                          |
| Strikethrough | ‚úî                          |
| –ó–∞–≥–æ–ª–æ–≤–∫–∏     | **—Ç–æ–ª—å–∫–æ H2 –∏ H3**         |
| –°–ø–∏—Å–∫–∏        | –±—É–ª–ª–µ—Ç—ã –∏ –Ω—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã–µ     |
| –°—Å—ã–ª–∫–∏        | ‚úî (target `_blank`)        |
| –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ  | left / center / right      |
| Quote         | ‚úî                          |
| Inline code   | ‚úî (—Ç–æ–ª—å–∫–æ `code`, –Ω–µ –±–ª–æ–∫) |

**–ù–µ –≤–∫–ª—é—á–∞–µ–º:**

‚ùå –¢–∞–±–ª–∏—Ü—ã
‚ùå –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
‚ùå Code-block (–±–ª–æ—á–Ω—ã–π)
‚ùå –í–∏–¥–µ–æ/Embed
‚ùå Checklists
‚ùå Emoji picker (–ù–ï MVP)

**–ü—Ä–∏—á–∏–Ω—ã:** –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å PDF, –µ–¥–∏–Ω–æ—Å—Ç—å —Å—Ç–∏–ª–µ–π, –Ω–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å Image Gallery.

---

# üñº **2) Gallery Block**

**Bucket —Ö—Ä–∞–Ω–µ–Ω–∏—è:**
‚úî –ò—Å–ø–æ–ª—å–∑—É–µ–º **–Ω–æ–≤—ã–π bucket `proposal-media`**, –Ω–µ `case-images`.

**–ü—Ä–∏—á–∏–Ω–∞:** –≥–∞–ª–µ—Ä–µ—è –Ω–µ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –∫–µ–π—Å–∞–º, –¥–æ–ª–∂–Ω–∞ –∂–∏—Ç—å —Ä—è–¥–æ–º —Å proposal-—Å—É—â–Ω–æ—Å—Ç—å—é.

**–ú–∞–∫—Å–∏–º—É–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:**
‚úî **12 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–∞ –±–ª–æ–∫**
(–≤ T–ó –ø—Ä–æ–ø–∏—Å–∞—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∏ hint –≤ UI).

**Layouts –≤ MVP:**
‚úî **–æ–¥–∏–Ω layout ‚Äî responsive grid**, –∞–≤—Ç–æ–∞–¥–∞–ø—Ç–∞—Ü–∏—è:

| –ö–æ–ª-–≤–æ | Layout     |
| ------ | ---------- |
| 1      | full width |
| 2‚Äì3    | 1 row      |
| 4‚Äì6    | 2 rows     |
| 7‚Äì12   | equal grid |

‚ùå Masonry / Collage / Carousel ‚Äî **–Ω–µ –¥–µ–ª–∞—Ç—å –≤ MVP**.

---

# üë• **3) Team Estimate –∏ Payment Tables**

### üí∞ –í–∞–ª—é—Ç–∞

| –ù–∞—Å—Ç—Ä–æ–π–∫–∞       | –ó–Ω–∞—á–µ–Ω–∏–µ                                    |
| --------------- | ------------------------------------------- |
| –¢–∏–ø             | —Å—Ç—Ä–æ–∫–æ–≤–æ–µ –ø–æ–ª–µ (`RUB`, `USD`, `EUR` –∏ —Ç.–ø.) |
| –°–∏–º–≤–æ–ª          | –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ –≤–∞–ª—é—Ç–µ        |
| –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å | –≤–≤–æ–¥–∏—Ç—Å—è –≤—Ä—É—á–Ω—É—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º              |

**–°–∏–º–≤–æ–ª—ã:**

| –í–≤–æ–¥   | –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ                        |
| ------ | ---------------------------------- |
| RUB    | ‚ÇΩ                                  |
| USD    | $                                  |
| EUR    | ‚Ç¨                                  |
| –î—Ä—É–≥–æ–µ | –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–∞–º –∫–æ–¥ (–ø—Ä–∏–º–µ—Ä: `AED`) |

### üî¢ –†–∞—Å—á—ë—Ç—ã

| –¢–∞–±–ª–∏—Ü–∞       | –ö–∞–∫ —Å—á–∏—Ç–∞—Ç—å                                        |
| ------------- | -------------------------------------------------- |
| Team Estimate | `total = qty * rate` –Ω–∞ –∫–∞–∂–¥—É—é —Å—Ç—Ä–æ–∫—É + –æ–±—â–∏–π –∏—Ç–æ–≥ |
| Payment       | –ø—Ä–æ—Å—Ç–æ —Å—É–º–º–∏—Ä–æ–≤–∞—Ç—å `amount` –≤—Å–µ—Ö —Å—Ç—Ä–æ–∫             |

**–ò—Ç–æ–≥–∏ –≤—Å–µ–≥–¥–∞ —Å—á–∏—Ç–∞—é—Ç—Å—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ –Ω–∞ –±—ç–∫–µ –ø—Ä–∏ snapshot.**

---

# üß≤ **4) Drag-n-drop –±–∏–±–ª–∏–æ—Ç–µ–∫–∞**

‚úî –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **@dnd-kit/core**.

**–ü—Ä–∏—á–∏–Ω—ã:**

* —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è,
* –º–µ–Ω—å—à–µ –±–∞–≥–æ–≤ –≤ Next 13+,
* —Ä–∞–±–æ—Ç–∞–µ—Ç —Å non-DOM –ø—Ä–µ–≤—å—é (Canvas),
* –ª—É—á—à–µ –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è drop-indicators.

`react-beautiful-dnd` ‚ùå —É—Å—Ç–∞—Ä–µ–ª–∞, –Ω–µ —Å–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å concurrent React –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

---

# üìÑ **5) PDF –≥–µ–Ω–µ—Ä–∞—Ü–∏—è**

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è:

‚úî **Playwright** (–Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ, –Ω–æ –ª—É—á—à–µ, —á–µ–º Puppeteer)

* —Å—Ç–∞–±–∏–ª—å–Ω–µ–µ headless –≤ Vercel/Node16+,
* –ª—É—á—à–µ —Ä–µ–Ω–¥–µ—Ä–∏—Ç —à—Ä–∏—Ñ—Ç—ã –∏ –ª–∏—Å—Ç—ã.

### –ì–¥–µ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å:

‚úî **API Route Next.js (Node runtime)**
‚ùå **–ù–ï Edge Functions**, —Ç–∞–∫ –∫–∞–∫ –Ω—É–∂–µ–Ω –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä.

### –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

* ‚ùå react-pdf (–Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –ø–æ–¥ pixel-perfect HTML)
* ‚ùå html-pdf, wkhtmltopdf (–ø–ª–æ—Ö–æ–π CSS, –Ω–µ—Ç flex/grid)

---

# üé• **6) Loom –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**

### –§–æ—Ä–º–∞—Ç:

‚úî –í –ø–æ–ª–µ proposals –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è `loom_url TEXT`.

### –ü—Ä–∏–Ω–∏–º–∞–µ–º:

* **–ø–æ–ª–Ω—ã–π URL**, –Ω–∞–ø—Ä–∏–º–µ—Ä:

  ```
  https://www.loom.com/share/xxxxxxxxxxxx
  ```

### –ü–æ–≤–µ–¥–µ–Ω–∏–µ:

* –í Hero Block, –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ `loom_url`, –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è **Loom-–∏–∫–æ–Ω–∫–∞ + –∫–Ω–æ–ø–∫–∞ ‚Äú–°–º–æ—Ç—Ä–µ—Ç—å‚Äù**
* –ü—Ä–∏ –∫–ª–∏–∫–µ ‚Üí **–æ—Ç–∫—Ä—ã—Ç—å –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ (`_blank`)**
* ‚ùå –ë–µ–∑ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
* ‚ùå –ë–µ–∑ iframe
* ‚ùå –ë–µ–∑ embed –ø–ª–µ–µ—Ä–∞

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:** PDF + –ø—É–±–ª–∏—á–Ω—ã–π SSR ‚Äî –º–∏–Ω–∏–º—É–º —Ä–∏—Å–∫–æ–≤.

---

# üîÅ **7) –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö proposals**

### –†–µ—à–µ–Ω–∏–µ:

| –î–µ–π—Å—Ç–≤–∏–µ              | –ö–∞–∫                          |
| --------------------- | ---------------------------- |
| –°—Ç–∞—Ä—ã–µ –ö–ü             | –ù–µ —Ç—Ä–æ–≥–∞–µ–º                   |
| –ù–æ–≤—ã–µ                 | –°–æ–∑–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –±–ª–æ–∫–∏ |
| –°—Ç–∞—Ä—ã–µ –ø–æ–ª—è proposals | –û—Å—Ç–∞–≤–ª—è–µ–º, –º–æ–∂–Ω–æ —á–∏—Ç–∞—Ç—å      |
| –ú–∏–≥—Ä–∞—Ü–∏—è              | ‚ùå –ù–µ –¥–µ–ª–∞–µ–º —Å–µ–π—á–∞—Å           |

üîÆ –í –±—É–¥—É—â–µ–º (post-MVP) –≤–æ–∑–º–æ–∂–µ–Ω –∏–º–ø–æ—Ä—Ç ‚Üí –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ –±–ª–æ–∫–∏.

---

# üåê **8) SEO –ø—É–±–ª–∏—á–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü**

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç   | –ò—Å—Ç–æ—á–Ω–∏–∫                                            |
| ----------- | --------------------------------------------------- |
| title       | title –∏–∑ snapshot                                   |
| description | `workspace_brand_settings.seo.description`          |
| og:title    | `workspace_brand_settings.seo.defaultOgTitle`       |
| og:image    | `workspace_brand_settings.seo.ogImage`              |
| favicon     | –µ—Å–ª–∏ –µ—Å—Ç—å logo ‚Üí –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å favicon –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ |

‚úî OG –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã.
‚ùå Twitter cards, canonical, JSON-LD ‚Äî **–Ω–µ MVP.**

---

# üë• **9) –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –ø—Ä–∏ –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏**

–†–µ—à–µ–Ω–∏–µ:

| –ü–æ–≤–µ–¥–µ–Ω–∏–µ   | –î–∞/–ù–µ—Ç |
| ----------- | ------ |
| –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞  | ‚ùå –ù–µ—Ç  |
| Diff        | ‚ùå –ù–µ—Ç  |
| Notif/Toast | ‚úî –î–∞   |

### Toast:

```
–î—Ä—É–≥–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–µ–π—á–∞—Å —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç —ç—Ç–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ.
–ò–∑–º–µ–Ω–µ–Ω–∏—è –º–æ–≥—É—Ç –±—ã—Ç—å –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω—ã.
```

‚ö†Ô∏è –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è.
üìå –í –±—É–¥—É—â–µ–º: WebSocket Live Sync (post-MVP).

